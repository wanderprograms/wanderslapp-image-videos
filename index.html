<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Media App</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-firestore-compat.js"></script>   
  <!-- Ikani SDK mu HTML head kapena body -->
  <script src="https://unpkg.com/imagekit-javascript/dist/imagekit.min.js"></script>
</head>
<body>      
  <div id="debugConsole" style="background:#111;color:#0f0;padding:10px;font-family:monospace;max-height:200px;overflow:auto;">
  <strong>üõ†Ô∏è Debug Console:</strong>
  <div id="debugOutput"></div>
</div>     
  
  <!-- Auth Container -->
  <div class="auth-container" id="authContainer">
    <!-- Login Section -->
    <div id="loginSection">
      <h2>Login</h2>
      <input type="email" id="loginEmail" placeholder="Email" required />
      <input type="password" id="loginPassword" placeholder="Password" required />
      <button id="loginBtn">Login</button>
      <p class="switch">No account? <span id="showRegister">Register here</span></p>
    </div>

    <!-- Register Section -->
    <div id="registerSection" class="hidden">
      <h2>Register</h2>
      <input type="text" id="regUsername" placeholder="Username" />
      <input type="email" id="regEmail" placeholder="Email" />
      <input type="password" id="regPassword" placeholder="Password" />
      <div class="agree">
        <input type="checkbox" id="agreeBox" />
        <label for="agreeBox">I agree</label>
      </div>
      <button id="registerBtn">Register</button>
      <p class="switch">Already have an account? <span id="showLogin">Login</span></p>
    </div>
  </div>

  <!-- Dashboard -->
  <div class="dashboard hidden" id="dashboard">
    <!-- Top Bar -->
    <div class="top-bar">
      <button id="uploadBtn">Upload</button>
    </div>

    <!-- Navigation -->
    <nav>
      <div class="hamburger" id="hamburger">‚ò∞</div>
      <div class="nav-links hidden" id="navLinks">
        <button id="navImages">Images</button>
        <button id="navVideos">Videos</button>
        <button id="logoutBtn">Logout</button>
      </div>
    </nav>

    <!-- Upload Form -->
    <section id="uploadFormSection" class="hidden">
      <form id="uploadForm">
        <div class="form-header">
          <h3>Upload Media</h3>
          <button type="button" id="closeUpload">‚ùå</button>
        </div>
        <input type="file" id="fileInput" accept="image/*,video/*" required />
        <input type="text" id="titleInput" placeholder="Title" />
        <textarea id="descInput" placeholder="Description (optional)"></textarea>
        <button type="submit">Upload</button>
      </form>
    </section>

    <!-- Media Sections -->
    <main>
      <section id="imageGallery" class="mediaSection hidden">
        <h2>Image Gallery</h2>
        <div id="imageList"></div>
      </section>

      <section id="videoGallery" class="mediaSection hidden">
        <h2>Video Gallery</h2>
        <div id="videoList"></div>
      </section>
    </main>
  </div>

  <script src="fetch.js"></script>
</body>
</html>